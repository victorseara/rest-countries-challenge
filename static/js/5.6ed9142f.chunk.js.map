{"version":3,"sources":["api/countries/countriesApi.ts","../node_modules/react-feather/dist/icons/chevron-down.js","components/Dropdown/Dropdown.tsx","../node_modules/react-feather/dist/icons/search.js","components/SearchBox/SearchBox.tsx","components/Card/Card.tsx","components/GridList/GridList.tsx","pages/Home/Home.tsx"],"names":["COUNTRIES_API_URL","client","axios","create","baseURL","getAllCountries","a","params","fields","get","then","response","data","catch","Error","findCountryByCode","countryCode","error","isAxiosError","status","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","ChevronDown","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","rest","React","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","propTypes","PropTypes","string","oneOfType","number","displayName","Dropdown","name","placeholder","onChange","options","value","htmlFor","className","id","disabled","hidden","map","item","Search","cx","cy","r","x1","y1","x2","y2","SearchBox","useState","localValue","setLocalValue","useEffect","debounce","setTimeout","clearTimeout","type","aria-label","e","Card","country","history","useHistory","navigateToCountry","push","alpha3Code","role","tabIndex","onClick","onKeyDown","data-testid","src","flag","alt","population","toLocaleString","region","capital","EmptyState","GridList","countries","style","overflowX","regionOptions","Home","displayed","state","setState","query","setQuery","filterByRegion","setFilterByRegion","countriesToShow","filter","toLowerCase","includes","displayCountries","slice","updateQuery","useCallback","err","prevstate","message","fetch","onScroll","window","innerHeight","scrollY","document","body","offsetHeight","addEventListener","removeEventListener","minWidth","Loader"],"mappings":"oPAGaA,EAAoB,mCAE3BC,E,OAASC,EAAMC,OAAO,CAAEC,QAASJ,IAE1BK,EAAe,uCAAG,4BAAAC,EAAA,6DACvBC,EAAS,CAAEC,OAAQ,kDADI,kBAEtBP,EACJQ,IADI,UACcT,EADd,QACuC,CAC1CO,WAEDG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QAC1BC,OAAM,WACL,MAAM,IAAIC,MAAJ,gFARmB,2CAAH,qDAcfC,EAAiB,uCAAG,WAC/BC,EACAT,GAF+B,SAAAD,EAAA,+EAIxBL,EACJQ,IADI,UACYT,EADZ,kBACuCgB,GAAe,CAAET,WAC5DG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QAC1BC,OAAM,SAAAI,GACL,GAAIA,EAAMC,cAAiC,MAAjBD,EAAME,OAC9B,MAAM,IAAIL,MAAJ,gDAAmDE,IAG3D,MAAM,IAAIF,MACR,2EAbyB,2CAAH,yD,oICrB9B,SAASM,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAIoB,EAAcC,sBAAW,SAAUC,EAAMC,GAC3C,IAAIC,EAAaF,EAAKG,MAClBA,OAAuB,IAAfD,EAAwB,eAAiBA,EACjDE,EAAYJ,EAAKK,KACjBA,OAAqB,IAAdD,EAAuB,GAAKA,EACnCE,EAAOjB,EAAyBW,EAAM,CAAC,QAAS,SAEpD,OAAoBO,IAAMC,cAAc,MAAOjC,EAAS,CACtD0B,IAAKA,EACLQ,MAAO,6BACPC,MAAOL,EACPM,OAAQN,EACRO,QAAS,YACTC,KAAM,OACNC,OAAQX,EACRY,YAAa,IACbC,cAAe,QACfC,eAAgB,SACfX,GAAoBC,IAAMC,cAAc,WAAY,CACrDU,OAAQ,uBAGZpB,EAAYqB,UAAY,CACtBhB,MAAOiB,IAAUC,OACjBhB,KAAMe,IAAUE,UAAU,CAACF,IAAUC,OAAQD,IAAUG,UAEzDzB,EAAY0B,YAAc,cACX1B,Q,OCUA2B,EAjCE,SAAC,GAMI,IALpBC,EAKmB,EALnBA,KACAC,EAImB,EAJnBA,YACAC,EAGmB,EAHnBA,SACAC,EAEmB,EAFnBA,QACAC,EACmB,EADnBA,MAEA,OACE,wBACEC,QAASL,EACTM,UAAU,wFAFZ,UAIE,cAAC,EAAD,CAAaA,UAAU,kCACvB,yBACEC,GAAIP,EACJE,SAAUA,EACVF,KAAMA,EACNI,MAAOA,EACPE,UAAU,kJALZ,UAOE,wBAAQE,UAAQ,EAACC,QAAM,EAACH,UAAU,gBAAgBF,MAAM,GAAxD,SACGH,IAEFE,EAAQO,KAAI,SAAAC,GAAI,OACf,wBAAmBL,UAAU,gBAA7B,SACGK,GADUA,aCpCvB,SAAS9D,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAI4D,EAASvC,sBAAW,SAAUC,EAAMC,GACtC,IAAIC,EAAaF,EAAKG,MAClBA,OAAuB,IAAfD,EAAwB,eAAiBA,EACjDE,EAAYJ,EAAKK,KACjBA,OAAqB,IAAdD,EAAuB,GAAKA,EACnCE,EAAOjB,EAAyBW,EAAM,CAAC,QAAS,SAEpD,OAAoBO,IAAMC,cAAc,MAAOjC,EAAS,CACtD0B,IAAKA,EACLQ,MAAO,6BACPC,MAAOL,EACPM,OAAQN,EACRO,QAAS,YACTC,KAAM,OACNC,OAAQX,EACRY,YAAa,IACbC,cAAe,QACfC,eAAgB,SACfX,GAAoBC,IAAMC,cAAc,SAAU,CACnD+B,GAAI,KACJC,GAAI,KACJC,EAAG,MACYlC,IAAMC,cAAc,OAAQ,CAC3CkC,GAAI,KACJC,GAAI,KACJC,GAAI,QACJC,GAAI,cAGRP,EAAOnB,UAAY,CACjBhB,MAAOiB,IAAUC,OACjBhB,KAAMe,IAAUE,UAAU,CAACF,IAAUC,OAAQD,IAAUG,UAEzDe,EAAOd,YAAc,SACNc,QCLAQ,EA5BG,SAAC,GAAsD,IAApDnB,EAAmD,EAAnDA,YAAaG,EAAsC,EAAtCA,MAAOF,EAA+B,EAA/BA,SAA+B,EAClCmB,mBAASjB,GAAS,IADgB,mBAC/DkB,EAD+D,KACnDC,EADmD,KAatE,OAVAC,qBAAU,WACR,IAAMC,EAAWC,YAAW,WAC1BxB,EAASoB,KACR,KAEH,OAAO,WACLK,aAAaF,MAEd,CAACH,EAAYpB,IAGd,sBAAKI,UAAU,mEAAf,UACE,cAAC,EAAD,CAAQA,UAAU,0BAClB,uBACEA,UAAU,wQACVsB,KAAK,OACLC,aAAW,SACX3B,SAAU,SAAA4B,GAAC,OAAIP,EAAcO,EAAE9E,OAAOoD,QACtCA,MAAOkB,EACPrB,YAAaA,Q,eCeN8B,EAtCF,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,QACRC,EAAUC,cAEVC,EAAoB,kBAAMF,EAAQG,KAAR,WAAiBJ,EAAQK,cAEzD,OACE,sBACE/B,UAAU,sOACVgC,KAAK,SACLC,SAAU,EACVC,QAASL,EACTM,UAAW,SAAAX,GAAC,MAAc,UAAVA,EAAEzE,KAAmB8E,KACrCO,cAAY,eANd,UAQE,cAAC,IAAD,CACEC,IAAKX,EAAQY,KACbC,IAAG,kBAAab,EAAQhC,MACxBM,UAAU,2CAEZ,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,yBAAd,SAAwC0B,EAAQhC,OAChD,+BACE,qBAAIM,UAAU,OAAd,UACE,sBAAMA,UAAU,gBAAhB,0BAAoD,IACnD0B,EAAQc,WAAWC,oBAEtB,qBAAIzC,UAAU,OAAd,UACE,sBAAMA,UAAU,gBAAhB,sBADF,IACmD0B,EAAQgB,UAE3D,qBAAI1C,UAAU,OAAd,UACE,sBAAMA,UAAU,gBAAhB,uBADF,IACoD0B,EAAQiB,qBC/BhEC,EAAa,kBACjB,qBAAK5C,UAAU,2CAAf,SACE,sBAAMA,UAAU,gBAAhB,6CAIS6C,EAAW,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,UACzB,OAAyB,IAArBA,EAAUjG,OACL,cAAC,EAAD,IAGP,qBACEmD,UAAU,iFACV+C,MAAO,CAAEC,UAAW,QAFtB,SAIGF,EAAU1C,KAAI,SAAAsB,GAAO,OACpB,cAAC,EAAD,CAAMA,QAASA,GAAcA,EAAQhC,YCfvCuD,EAAgB,CAAC,SAAU,WAAY,OAAQ,SAAU,WA2IhDC,UAvGf,WAAiB,IAAD,EACYnC,mBAAgB,CACxC+B,UAAW,GACXK,UAAW,EACX7G,OAAQ,UACRF,MAAO,KALK,mBACPgH,EADO,KACAC,EADA,OAOYtC,mBAAS,IAPrB,mBAOPuC,EAPO,KAOAC,EAPA,OAQ8BxC,mBAAS,IARvC,mBAQPyC,EARO,KAQSC,EART,KAUNX,EAAwCM,EAAxCN,UAAWxG,EAA6B8G,EAA7B9G,OAAQF,EAAqBgH,EAArBhH,MAAO+G,EAAcC,EAAdD,UAE5BO,EACJF,GAAkBF,EA/CG,SACvBR,EACAU,EACAF,GAEA,OAAKE,GAAmBF,EAITR,EAAUa,QAAO,SAAAtD,GAC9B,OAAImD,GAAkBnD,EAAKqC,SAAWc,GAC/BF,GAGEjD,EAAKX,KAAKkE,cAAcC,SAASP,EAAMM,kBAG5CN,GAAUE,IACLnD,EAAKX,KAAKkE,cAAcC,SAASP,EAAMM,kBAZzCd,EA0CHgB,CAAiBhB,EAAWU,EAAgBF,GAC5CR,EAAUiB,MAAM,EAAGZ,GAEnBa,EAAcC,uBAAY,SAACnE,GAAD,OAAmByD,EAASzD,KAAQ,IAEpEoB,qBAAU,YACG,uCAAG,sBAAAzF,EAAA,sEACND,cACHK,MAAK,SAAAE,GAAI,OACRsH,EAAS,CACPP,UAAW/G,EACXO,OAAQ,WACRF,MAAO,GACP+G,UAAW,OAGdnH,OAAM,SAAAkI,GAAG,OACRb,GAAS,SAAAc,GAAS,kCACbA,GADa,IAEhB7H,OAAQ,QACRF,MAAO8H,EAAIE,gBAdL,2CAAH,qDAkBXC,KACC,IAEH,IAAMC,EAAW,WAGbC,OAAOC,YAAcD,OAAOE,QAFT,KAGnBC,SAASC,KAAKC,cAEVzB,EAAYL,EAAUjG,QACxBwG,GAAS,SAAAc,GAAS,kCACbA,GADa,IAEhBhB,UAAWgB,EAAUhB,UAAY,QAczC,OARAjC,qBAAU,WAGR,OAFAqD,OAAOM,iBAAiB,SAAUP,GAE3B,WACLC,OAAOO,oBAAoB,SAAUR,OAKvC,sBAAKtE,UAAU,gBAAf,UACE,qBAAKA,UAAU,mHAAf,SACE,sBAAKA,UAAU,0DAAf,UACE,qBAAKA,UAAU,mBAAmB+C,MAAO,CAAEgC,SAAU,SAArD,SACE,cAAC,EAAD,CACEpF,YAAY,0BACZG,MAAOwD,EACP1D,SAAUoE,MAGd,qBACEhE,UAAU,iCACV+C,MAAO,CAAEgC,SAAU,SAFrB,SAIE,cAAC,EAAD,CACErF,KAAK,gBACLG,QAASoD,EACTtD,YAAY,mBACZG,MAAO0D,EACP5D,SAAU,SAAA4B,GAAC,OAAIiC,EAAkBjC,EAAE9E,OAAOoD,iBAKlD,qBAAKE,UAAU,iBAAf,SACc,aAAX1D,EACC,gCACGF,GAAS,qBAAK4F,KAAK,QAAV,SAAmB5F,IACjB,YAAXE,GAAwB,cAAC0I,EAAA,EAAD,CAAQZ,QAAQ,4BAG3C,cAAC,EAAD,CAAUtB,UAAWY","file":"static/js/5.6ed9142f.chunk.js","sourcesContent":["import axios from 'axios';\nimport { Country } from './types/Country';\n\nexport const COUNTRIES_API_URL = 'https://restcountries.eu/rest/v2';\n\nconst client = axios.create({ baseURL: COUNTRIES_API_URL });\n\nexport const getAllCountries = async () => {\n  const params = { fields: 'flag;name;population;region;capital;alpha3Code' };\n  return client\n    .get<Country[]>(`${COUNTRIES_API_URL}/all`, {\n      params,\n    })\n    .then(response => response.data)\n    .catch(() => {\n      throw new Error(\n        `Sorry, we cannot fetch countries at this moment. Please try again later.`\n      );\n    });\n};\n\nexport const findCountryByCode = async (\n  countryCode: string,\n  params?: string\n) => {\n  return client\n    .get<Country>(`${COUNTRIES_API_URL}/alpha/${countryCode}`, { params })\n    .then(response => response.data)\n    .catch(error => {\n      if (error.isAxiosError && error.status === 404) {\n        throw new Error(`Sorry, there is no country with name: ${countryCode}`);\n      }\n\n      throw new Error(\n        'Sorry, we failed to respond to your request. Please try again later'\n      );\n    });\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ChevronDown = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"6 9 12 15 18 9\"\n  }));\n});\nChevronDown.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nChevronDown.displayName = 'ChevronDown';\nexport default ChevronDown;","import { ChevronDown } from 'react-feather';\n\ntype Options = string[];\n\ninterface DropdownProps {\n  name?: string;\n  placeholder?: string;\n  value?: string;\n  onChange?: (event: React.ChangeEvent<HTMLSelectElement>) => void;\n  options: Options;\n}\n\nconst Dropdown = ({\n  name,\n  placeholder,\n  onChange,\n  options,\n  value,\n}: DropdownProps) => {\n  return (\n    <label\n      htmlFor={name}\n      className=\"relative flex items-center text-gray-500 dark:text-gray-200 rounded-md shadow-md h-14\"\n    >\n      <ChevronDown className=\"absolute my-auto right-0 mx-4\" />\n      <select\n        id={name}\n        onChange={onChange}\n        name={name}\n        value={value}\n        className=\"w-full h-full dark:bg-common-blue px-8 bg-white rounded-md font-semibold focus:outline-none focus:ring-inset focus:ring-dark-hover focus:ring-1\"\n      >\n        <option disabled hidden className=\"font-semibold\" value=\"\">\n          {placeholder}\n        </option>\n        {options.map(item => (\n          <option key={item} className=\"font-semibold\">\n            {item}\n          </option>\n        ))}\n      </select>\n    </label>\n  );\n};\n\nexport default Dropdown;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Search = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"11\",\n    cy: \"11\",\n    r: \"8\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"21\",\n    y1: \"21\",\n    x2: \"16.65\",\n    y2: \"16.65\"\n  }));\n});\nSearch.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nSearch.displayName = 'Search';\nexport default Search;","import { useEffect, useState } from 'react';\nimport { Search } from 'react-feather';\n\ntype SearchBoxProps = {\n  placeholder?: string;\n  value?: string;\n  onChange: (value: string) => void;\n};\n\nconst SearchBox = ({ placeholder, value, onChange }: SearchBoxProps) => {\n  const [localValue, setLocalValue] = useState(value || '');\n\n  useEffect(() => {\n    const debounce = setTimeout(() => {\n      onChange(localValue);\n    }, 300);\n\n    return () => {\n      clearTimeout(debounce);\n    };\n  }, [localValue, onChange]);\n\n  return (\n    <div className=\"relative flex items-center text-gray-500 dark:text-gray-200 h-14\">\n      <Search className=\"absolute my-auto mx-4\" />\n      <input\n        className=\"placeholder-gray-500 text-very-dark-blue dark:bg-common-blue dark:placeholder-gray-300 dark:text-white text-base rounded-md shadow-md w-full h-full font-semibold input-light input-dark pl-16 focus:outline-none focus:ring-inset focus:ring-dark-hover focus:ring-1\"\n        type=\"text\"\n        aria-label=\"Search\"\n        onChange={e => setLocalValue(e.target.value)}\n        value={localValue}\n        placeholder={placeholder}\n      />\n    </div>\n  );\n};\n\nexport default SearchBox;\n","import { Country } from 'api/countries/types/Country';\nimport { useHistory } from 'react-router-dom';\nimport Img from 'react-cool-img';\n\ninterface CardProps {\n  country: Country;\n}\n\nconst Card = ({ country }: CardProps) => {\n  const history = useHistory();\n\n  const navigateToCountry = () => history.push(`/${country.alpha3Code}`);\n\n  return (\n    <div\n      className=\"flex transform focus:scale-105 focus:shadow-2xl hover:scale-105 hover:shadow-2xl flex-col dark:bg-common-blue rounded-md shadow-lg dark:text-white text-very-dark-blue cursor-pointer transition-transform duration-500 ease-in-out\"\n      role=\"button\"\n      tabIndex={0}\n      onClick={navigateToCountry}\n      onKeyDown={e => e.key === 'Enter' && navigateToCountry()}\n      data-testid=\"country-card\"\n    >\n      <Img\n        src={country.flag}\n        alt={`Flag of ${country.name}`}\n        className=\"object-cover w-full h-52 rounded-t-md \"\n      />\n      <div className=\"py-8 px-6\">\n        <h6 className=\"font-bold text-lg mb-4\">{country.name}</h6>\n        <ul>\n          <li className=\"mb-2\">\n            <span className=\"font-semibold\">Population: </span>{' '}\n            {country.population.toLocaleString()}\n          </li>\n          <li className=\"mb-2\">\n            <span className=\"font-semibold\">Region: </span> {country.region}\n          </li>\n          <li className=\"mb-2\">\n            <span className=\"font-semibold\">Capital: </span> {country.capital}\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","import { Country } from 'api/countries/types/Country';\nimport Card from '../Card/Card';\n\ninterface GridListProps {\n  countries: Country[];\n}\n\nconst EmptyState = () => (\n  <div className=\"flex text-very-dark-blue dark:text-white\">\n    <span className=\"font-semibold\">No country match your query.</span>\n  </div>\n);\n\nexport const GridList = ({ countries }: GridListProps) => {\n  if (countries.length === 0) {\n    return <EmptyState />;\n  }\n  return (\n    <div\n      className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-16 mt-6 px-2\"\n      style={{ overflowX: 'clip' }}\n    >\n      {countries.map(country => (\n        <Card country={country} key={country.name} />\n      ))}\n    </div>\n  );\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { Country } from 'api/countries/types/Country';\nimport { getAllCountries } from 'api/countries/countriesApi';\nimport { Loader } from 'components/Loader/Loader';\nimport Dropdown from '../../components/Dropdown/Dropdown';\nimport SearchBox from '../../components/SearchBox/SearchBox';\nimport { GridList } from '../../components/GridList/GridList';\n\nconst regionOptions = ['Africa', 'Americas', 'Asia', 'Europe', 'Oceania'];\n\nconst displayCountries = (\n  countries: Country[],\n  filterByRegion?: string,\n  query?: string\n) => {\n  if (!filterByRegion && !query) {\n    return countries;\n  }\n\n  const result = countries.filter(item => {\n    if (filterByRegion && item.region === filterByRegion) {\n      if (!query) {\n        return true;\n      }\n      return item.name.toLowerCase().includes(query.toLowerCase());\n    }\n\n    if (query && !filterByRegion) {\n      return item.name.toLowerCase().includes(query.toLowerCase());\n    }\n\n    return false;\n  });\n\n  return result;\n};\n\ntype State = {\n  countries: Country[];\n  displayed: number;\n  status: 'pending' | 'resolved' | 'error';\n  error: string;\n};\n\nfunction Home() {\n  const [state, setState] = useState<State>({\n    countries: [],\n    displayed: 0,\n    status: 'pending',\n    error: '',\n  });\n  const [query, setQuery] = useState('');\n  const [filterByRegion, setFilterByRegion] = useState('');\n\n  const { countries, status, error, displayed } = state;\n\n  const countriesToShow =\n    filterByRegion || query\n      ? displayCountries(countries, filterByRegion, query)\n      : countries.slice(0, displayed);\n\n  const updateQuery = useCallback((value: string) => setQuery(value), []);\n\n  useEffect(() => {\n    const fetch = async () => {\n      await getAllCountries()\n        .then(data =>\n          setState({\n            countries: data,\n            status: 'resolved',\n            error: '',\n            displayed: 8,\n          })\n        )\n        .catch(err =>\n          setState(prevstate => ({\n            ...prevstate,\n            status: 'error',\n            error: err.message,\n          }))\n        );\n    };\n    fetch();\n  }, []);\n\n  const onScroll = () => {\n    const marginBottom = 200;\n    if (\n      window.innerHeight + window.scrollY + marginBottom >=\n      document.body.offsetHeight\n    ) {\n      if (displayed < countries.length) {\n        setState(prevstate => ({\n          ...prevstate,\n          displayed: prevstate.displayed + 8,\n        }));\n      }\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', onScroll);\n\n    return () => {\n      window.removeEventListener('scroll', onScroll);\n    };\n  });\n\n  return (\n    <div className=\"flex flex-col\">\n      <div className=\"flex z-50 flex-col h-52 sm:h-36 fixed justify-center  w-full left-0 bg-light-gray dark:bg-dark-blue items-center\">\n        <div className=\"flex justify-between flex-wrap w-10/12 max-w-screen-2xl\">\n          <div className=\"w-full sm:w-1/3 \" style={{ minWidth: '320px' }}>\n            <SearchBox\n              placeholder=\"Search for a country...\"\n              value={query}\n              onChange={updateQuery}\n            />\n          </div>\n          <div\n            className=\"w-6/12 sm:w-2/12 mt-10 sm:mt-0\"\n            style={{ minWidth: '200px' }}\n          >\n            <Dropdown\n              name=\"query-by-name\"\n              options={regionOptions}\n              placeholder=\"Filter by Region\"\n              value={filterByRegion}\n              onChange={e => setFilterByRegion(e.target.value)}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"mt-52 sm:mt-36\">\n        {status !== 'resolved' ? (\n          <div>\n            {error && <div role=\"alert\">{error}</div>}\n            {status === 'pending' && <Loader message=\"Finding countries...\" />}\n          </div>\n        ) : (\n          <GridList countries={countriesToShow} />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n"],"sourceRoot":""}