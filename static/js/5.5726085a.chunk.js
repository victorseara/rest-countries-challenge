(this["webpackJsonpcountries-rest-api-with-theme-switcher"]=this["webpackJsonpcountries-rest-api-with-theme-switcher"]||[]).push([[5],{33:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return u}));var n=r(31),a=r.n(n),o=r(32),c=r(34),s="https://restcountries.eu/rest/v2",i=r.n(c).a.create({baseURL:s}),l=function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={fields:"flag;name;population;region;capital;alpha3Code"},e.abrupt("return",i.get("".concat(s,"/all"),{params:t}).then((function(e){return e.data})).catch((function(){throw new Error("Sorry, we cannot fetch countries at this moment. Please try again later.")})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.get("".concat(s,"/alpha/").concat(t)).then((function(e){return e.data})).catch((function(e){if(e.isAxiosError&&404===e.status)throw new Error("Sorry, there is no country with name: ".concat(t));throw new Error("Sorry, we failed to respond to your request. Please try again later")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},65:function(e,t,r){"use strict";r.r(t);var n=r(31),a=r.n(n);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var i=r(32),l=r(11),u=r(0),d=r.n(u),f=r(33),b=r(63),p=r(5),h=r.n(p);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var O=Object(u.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,c=j(e,["color","size"]);return d.a.createElement("svg",m({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),d.a.createElement("polyline",{points:"6 9 12 15 18 9"}))}));O.propTypes={color:h.a.string,size:h.a.oneOfType([h.a.string,h.a.number])},O.displayName="ChevronDown";var x=O,g=r(1),v=function(e){var t=e.name,r=e.placeholder,n=e.onChange,a=e.options,o=e.value;return Object(g.jsxs)("label",{htmlFor:"Filter by Region",className:"relative flex items-center text-gray-500 dark:text-gray-200 rounded-md shadow-md h-14",children:[Object(g.jsx)(x,{className:"absolute my-auto right-0 mx-4"}),Object(g.jsxs)("select",{onChange:n,name:t,value:o,className:"w-full h-full dark:bg-common-blue px-8 bg-white rounded-md font-semibold focus:outline-none focus:ring-inset focus:ring-dark-hover focus:ring-1",children:[Object(g.jsx)("option",{disabled:!0,hidden:!0,className:"font-semibold",value:"",children:r||"Select an option"}),a.map((function(e){return Object(g.jsx)("option",{className:"font-semibold",children:e},e)}))]})]})};function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var k=Object(u.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,c=w(e,["color","size"]);return d.a.createElement("svg",y({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),d.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),d.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))}));k.propTypes={color:h.a.string,size:h.a.oneOfType([h.a.string,h.a.number])},k.displayName="Search";var N=k,E=function(e){var t=e.placeholder,r=e.value,n=e.onChange,a=Object(u.useState)(r||""),o=Object(l.a)(a,2),c=o[0],s=o[1];return Object(u.useEffect)((function(){var e=setTimeout((function(){n(c)}),300);return function(){clearTimeout(e)}}),[c,n]),Object(g.jsxs)("div",{className:"relative flex items-center text-gray-500 dark:text-gray-200 h-14",children:[Object(g.jsx)(N,{className:"absolute my-auto mx-4"}),Object(g.jsx)("input",{className:"placeholder-gray-500 text-very-dark-blue dark:bg-common-blue dark:placeholder-gray-300 dark:text-white text-base rounded-md shadow-md w-full h-full font-semibold input-light input-dark pl-16 focus:outline-none focus:ring-inset focus:ring-dark-hover focus:ring-1",type:"text","aria-label":"Search",onChange:function(e){return s(e.target.value)},value:c,placeholder:t||"Search ..."})]})},S=r(2),C=r(43),P=function(e){var t=e.country,r=Object(S.e)(),n=function(){return r.push("/".concat(t.alpha3Code))};return Object(g.jsxs)("div",{className:"flex transform focus:scale-105 focus:shadow-2xl hover:scale-105 hover:shadow-2xl flex-col dark:bg-common-blue rounded-md shadow-lg dark:text-white text-very-dark-blue cursor-pointer transition-transform duration-500 ease-in-out",role:"button",tabIndex:0,onClick:n,onKeyDown:function(e){return"Enter"===e.key?n():null},children:[Object(g.jsx)(C.a,{src:t.flag,alt:"Flag of ".concat(t.name),className:"object-cover w-96 h-52 rounded-t-md "}),Object(g.jsxs)("div",{className:"py-8 px-6",children:[Object(g.jsx)("span",{className:"font-bold text-lg mb-4",children:t.name}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)("li",{className:"mb-2",children:[Object(g.jsx)("span",{className:"font-semibold",children:"Population: "})," ",t.population.toLocaleString()]}),Object(g.jsxs)("li",{className:"mb-2",children:[Object(g.jsx)("span",{className:"font-semibold",children:"Region: "})," ",t.region]}),Object(g.jsxs)("li",{className:"mb-2",children:[Object(g.jsx)("span",{className:"font-semibold",children:"Capital: "})," ",t.capital]})]})]})]})},L=function(){return Object(g.jsx)("div",{className:"flex text-very-dark-blue dark:text-white",children:Object(g.jsx)("span",{className:"font-semibold",children:"No country match your query."})})},z=function(e){var t=e.countries;return 0===t.length?Object(g.jsx)(L,{}):Object(g.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-16 mt-6 px-2",style:{overflowX:"clip"},children:t.map((function(e){return Object(g.jsx)(P,{country:e},e.name)}))})},D=["Africa","Americas","Asia","Europe","Oceania"];t.default=function(){var e=Object(u.useState)({countries:[],displayed:0,status:"pending",error:""}),t=Object(l.a)(e,2),r=t[0],n=t[1],o=Object(u.useState)(""),c=Object(l.a)(o,2),d=c[0],p=c[1],h=Object(u.useState)(""),m=Object(l.a)(h,2),j=m[0],O=m[1],x=r.countries,y=r.status,w=r.error,k=r.displayed,N=j||d?function(e,t,r){return t||r?e.filter((function(e){return t&&e.region===t?!r||e.name.toLowerCase().includes(r.toLowerCase()):!(!r||t)&&e.name.toLowerCase().includes(r.toLowerCase())})):e}(x,j,d):x.slice(0,k),S=Object(u.useCallback)((function(e){return p(e)}),[]);Object(u.useEffect)((function(){(function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)().then((function(e){return n({countries:e,status:"resolved",error:"",displayed:8})})).catch((function(e){return n((function(t){return s(s({},t),{},{status:"error",error:e.message})}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var C=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&k<x.length&&n((function(e){return s(s({},e),{},{displayed:e.displayed+8})}))};return Object(u.useEffect)((function(){return window.addEventListener("scroll",C),function(){return window.removeEventListener("scroll",C)}})),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)("div",{id:"home-fixed-content",className:"flex z-50 flex-col h-52 sm:h-36 justify-center  w-full fixed left-0 bg-light-gray dark:bg-dark-blue items-center",children:Object(g.jsxs)("div",{className:"flex justify-between flex-wrap w-10/12 max-w-screen-2xl",children:[Object(g.jsx)("div",{className:"w-full sm:w-1/3 ",style:{minWidth:"320px"},children:Object(g.jsx)(E,{placeholder:"Search for a country...",value:d,onChange:S})}),Object(g.jsx)("div",{className:"w-6/12 sm:w-2/12 mt-10 sm:mt-0",style:{minWidth:"200px"},children:Object(g.jsx)(v,{options:D,placeholder:"Filter by Region",value:j,onChange:function(e){return O(e.target.value)}})})]})}),Object(g.jsx)("div",{className:"mt-52 sm:mt-36",children:"resolved"!==y?Object(g.jsxs)("div",{children:[w&&Object(g.jsx)("div",{children:w}),"pending"===y&&Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)(b.a,{className:"animate-spin mr-2"})," ",Object(g.jsx)("span",{className:"animate-pulse font-semibold",children:"Finding countries..."})]})]}):Object(g.jsx)(z,{countries:N})})]})}}}]);
//# sourceMappingURL=5.5726085a.chunk.js.map