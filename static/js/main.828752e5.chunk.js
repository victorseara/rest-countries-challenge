(this["webpackJsonpcountries-rest-api-with-theme-switcher"]=this["webpackJsonpcountries-rest-api-with-theme-switcher"]||[]).push([[0],{35:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),s=n.n(c),l=(n(35),n(8)),i=n(14),o=n(3),u=n(62),d=n(1),m=function(e){var t=e.title,n=e.toggleTheme;return Object(d.jsx)("div",{id:"main-header",className:"w-full fixed z-50 bg-white dark:bg-common-blue h-20 shadow-md flex justify-center text-dark-blue dark:text-white transition-all ease-linear duration-500",children:Object(d.jsxs)("div",{className:"w-10/12 max-w-screen-2xl flex justify-between items-center",children:[Object(d.jsx)("h1",{className:"font-bold text-xl sm:text-3xl",children:t}),Object(d.jsxs)("button",{type:"button",className:"flex cursor-pointer hover:opacity-80",onClick:n,children:[Object(d.jsx)(u.a,{fill:"#fff"}),Object(d.jsx)("span",{className:"ml-2 font-semibold hidden sm:inline",children:"Dark mode"})]})]})})},h=n(7),j=n.n(h),b=n(9),f=n(29),x="https://restcountries.eu/rest/v2",p=n.n(f).a.create({baseURL:x}),O=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={fields:"flag;name;population;region;capital;alpha3Code"},e.abrupt("return",p.get("".concat(x,"/all"),{params:t}).then((function(e){return e.data})).catch((function(){throw new Error("Sorry, we cannot fetch countries at this moment. Please try again later.")})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.get("".concat(x,"/alpha/").concat(t)).then((function(e){return e.data})).catch((function(e){if(e.isAxiosError&&404===e.status)throw new Error("Sorry, there is no country with name: ".concat(t));throw new Error("Sorry, we failed to respond to your request. Please try again later")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=n(63),w=n(64),y=n(11),N=function(e){var t=e.label,n=e.children;return Object(d.jsxs)("li",{className:"py-1",children:[Object(d.jsxs)("span",{className:"font-semibold",children:[t,": "]}),n]})},k=function(e){var t=e.history,n=e.location,r=Object(a.useState)(),c=Object(l.a)(r,2),s=c[0],i=c[1];if(Object(a.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g(t).then((function(e){return i(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n.pathname&&e(n.pathname.replace("/",""))}),[n.pathname]),!s)return Object(d.jsxs)("div",{className:"flex py-12 my-4",children:[Object(d.jsx)(v.a,{className:"animate-spin mr-2"})," ",Object(d.jsx)("span",{className:"animate-pulse font-semibold",children:"Loading..."})]});var o=s.flag,u=s.name,m=s.nativeName,h=s.population,f=s.region,x=s.subregion,p=s.capital,O=s.topLevelDomain,k=s.currencies.map((function(e){return e.name})),S=s.languages.map((function(e){return e.name}));return Object(d.jsxs)("div",{className:"h-full w-full flex flex-col transition-all ease-linear duration-500",children:[Object(d.jsx)("div",{className:"py-12 my-4",children:Object(d.jsxs)("button",{className:"bg-light-gray dark:bg-common-blue px-8 py-4 flex text-lg items-center font-semibold shadow-md rounded-md hover:border hover:border-dark-hover dark:hover:shadow-xl hover:scale-50 transition-alll ease-linear duration-700",type:"button",onClick:function(){return t.goBack()},children:[Object(d.jsx)(w.a,{}),"Countries"]})}),Object(d.jsxs)("div",{className:"flex flex-col xl:flex-row",children:[Object(d.jsx)("div",{className:"rounded-md max-w-2xl",children:Object(d.jsx)(y.a,{src:o,alt:"Flag of ".concat(u),className:"h-auto w-full shadow-xl rounded-md object-contain"})}),Object(d.jsxs)("section",{className:"flex flex-col flex-1 xl:ml-24 py-12",children:[Object(d.jsx)("h2",{className:"text-3xl font-bold",children:u}),Object(d.jsxs)("div",{className:"flex text-lg flex-col lg:flex-row xl:flex-row",children:[Object(d.jsxs)("ul",{className:"flex-1 py-4 mr-8",children:[Object(d.jsx)(N,{label:"Native name",children:m}),Object(d.jsx)(N,{label:"Population",children:h}),Object(d.jsx)(N,{label:"Region",children:f}),Object(d.jsx)(N,{label:"Sub Region",children:x}),Object(d.jsx)(N,{label:"Capital",children:p})]}),Object(d.jsxs)("ul",{className:"flex-1 py-8",children:[Object(d.jsx)(N,{label:"Top Level Domain",children:O.toString()}),Object(d.jsx)(N,{label:"Currencies",children:k.toString()}),Object(d.jsx)(N,{label:"Languages",children:S.toString()})]})]})]})]})]})},S=n(17),C=n(65),L=function(e){var t=e.name,n=e.placeholder,a=e.onChange,r=e.options,c=e.value;return Object(d.jsxs)("label",{htmlFor:"Filter by Region",className:"relative flex items-center text-gray-500 dark:text-gray-200 rounded-md shadow-md h-14 transition-all ease-linear duration-700",children:[Object(d.jsx)(C.a,{className:"absolute my-auto right-0 mx-4"}),Object(d.jsxs)("select",{onChange:a,name:t,value:c,className:"w-full h-full dark:bg-common-blue px-8 bg-white rounded-md font-semibold focus:outline-none focus:ring-inset focus:ring-dark-hover focus:ring-1",children:[Object(d.jsx)("option",{disabled:!0,hidden:!0,className:"font-semibold",value:"",children:n||"Select an option"}),r.map((function(e){return Object(d.jsx)("option",{className:"font-semibold",children:e},e)}))]})]})},E=n(66),F=function(e){var t=e.placeholder,n=e.value,r=e.onChange,c=Object(a.useState)(n||""),s=Object(l.a)(c,2),i=s[0],o=s[1];return Object(a.useEffect)((function(){var e=setTimeout((function(){r(i)}),300);return function(){clearTimeout(e)}}),[i,r]),Object(d.jsxs)("div",{className:"relative flex items-center text-gray-500 dark:text-gray-200 h-14 transition-all ease-in-out duration-700",children:[Object(d.jsx)(E.a,{className:"absolute my-auto mx-4"}),Object(d.jsx)("input",{className:"text-base rounded-md shadow-md w-full h-full font-semibold input-light input-dark pl-16 focus:outline-none focus:ring-inset focus:ring-dark-hover focus:ring-1",type:"text","aria-label":"Search",onChange:function(e){return o(e.target.value)},value:i,placeholder:t||"Search ..."})]})},I=function(e){var t=e.country,n=Object(o.e)(),a=function(){return n.push("/".concat(t.alpha3Code))};return Object(d.jsxs)("div",{className:"flex transform focus:-translate-y-1 focus:shadow-2xl hover:-translate-y-1 hover:shadow-2xl flex-col dark:bg-common-blue rounded-md shadow-lg dark:text-white text-very-dark-blue cursor-pointer transition-all ease-in-out duration-300",role:"button",tabIndex:0,onClick:a,onKeyDown:function(e){return"Enter"===e.key?a():null},children:[Object(d.jsx)(y.a,{src:t.flag,alt:"Flag of ".concat(t.name),className:"object-cover w-full h-52 rounded-t-md "}),Object(d.jsxs)("div",{className:"py-8 px-6",children:[Object(d.jsx)("h3",{className:"font-bold text-lg mb-4",children:t.name}),Object(d.jsxs)("ul",{children:[Object(d.jsxs)("li",{className:"mb-2",children:[Object(d.jsx)("span",{className:"font-semibold",children:"Population: "})," ",t.population.toLocaleString()]}),Object(d.jsxs)("li",{className:"mb-2",children:[Object(d.jsx)("span",{className:"font-semibold",children:"Region: "})," ",t.region]}),Object(d.jsxs)("li",{className:"mb-2",children:[Object(d.jsx)("span",{className:"font-semibold",children:"Capital: "})," ",t.capital]})]})]})]})},T=function(){return Object(d.jsx)("div",{className:"flex text-very-dark-blue dark:text-white",children:Object(d.jsx)("span",{className:"font-semibold",children:"No country match your query."})})},P=function(e){var t=e.countries;return 0===t.length?Object(d.jsx)(T,{}):Object(d.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-16",style:{overflowX:"clip"},children:t.map((function(e){return Object(d.jsx)(I,{country:e},e.name)}))})},R=["Africa","Americas","Asia","Europe","Oceania"];var q=function(){var e=Object(a.useState)({countries:[],status:"pending",error:""}),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(l.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(""),m=Object(l.a)(u,2),h=m[0],f=m[1],x=n.countries,p=n.status,g=n.error,w=h||i?function(e,t,n){return t||n?e.filter((function(e){return t&&e.region===t?!n||e.name.toLowerCase().includes(n.toLowerCase()):!(!n||t)&&e.name.toLowerCase().includes(n.toLowerCase())})):e}(x,h,i):x,y=Object(a.useCallback)((function(e){return o(e)}),[]);return Object(a.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O().then((function(e){return r({countries:e,status:"resolved",error:""})})).catch((function(e){return r((function(t){return Object(S.a)(Object(S.a)({},t),{},{status:"error",error:e.message})}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(d.jsxs)("div",{className:"flex flex-col",children:[Object(d.jsx)("div",{id:"home-fixed-content",className:"flex flex-col h-52 sm:h-36 justify-center  w-full fixed left-0 bg-light-gray dark:bg-dark-blue items-center",children:Object(d.jsxs)("div",{className:"flex justify-between flex-wrap w-10/12 max-w-screen-2xl",children:[Object(d.jsx)("div",{className:"w-full sm:w-1/3 ",style:{minWidth:"320px"},children:Object(d.jsx)(F,{placeholder:"Search for a country...",value:i,onChange:y})}),Object(d.jsx)("div",{className:"w-6/12 sm:w-2/12 mt-10 sm:mt-0",style:{minWidth:"200px"},children:Object(d.jsx)(L,{options:R,placeholder:"Filter by Region",value:h,onChange:function(e){return f(e.target.value)}})})]})}),Object(d.jsx)("div",{className:"mt-52 sm:mt-36",children:"resolved"!==p?Object(d.jsxs)("div",{children:[g&&Object(d.jsx)("div",{children:g}),"pending"===p&&Object(d.jsxs)("div",{className:"flex",children:[Object(d.jsx)(v.a,{className:"animate-spin mr-2"})," ",Object(d.jsx)("span",{className:"animate-pulse font-semibold",children:"Finding countries..."})]})]}):Object(d.jsx)(P,{countries:w})})]})},D=function(){var e=Object(a.useState)("light"),t=Object(l.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){var e,t=localStorage.getItem("theme");(t||localStorage.setItem("theme","light"),"dark"===t)&&(r("dark"),null===(e=document.querySelector("html"))||void 0===e||e.classList.add("dark"))}),[]);return Object(d.jsx)(i.a,{basename:"/countries-rest-api-with-theme-switcher",children:Object(d.jsxs)("div",{className:"flex flex-col w-full dark:bg-dark-blue bg-light-gray min-h-screen text-very-dark-blue dark:text-white",children:[Object(d.jsx)(m,{title:"Where in the world ?",toggleTheme:function(){var e,t;"dark"===n?(r("light"),null===(e=document.querySelector("html"))||void 0===e||e.classList.remove("dark"),localStorage.setItem("theme","light")):(r("dark"),null===(t=document.querySelector("html"))||void 0===t||t.classList.add("dark"),localStorage.setItem("theme","dark"))}}),Object(d.jsx)("div",{className:"h-full w-10/12 max-w-screen-2xl flex flex-col self-center mt-20",children:Object(d.jsxs)("main",{className:"h-full",children:[Object(d.jsx)(o.a,{path:"/",exact:!0,component:q}),Object(d.jsx)(o.a,{path:"/:countryCode",component:k})]})})]})})},A=function(){return Object(d.jsx)(D,{})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(A,{})}),document.getElementById("root")),B()}},[[61,1,2]]]);
//# sourceMappingURL=main.828752e5.chunk.js.map